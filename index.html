<!doctype html>
<html lang="en" data-bs-theme="auto">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <title>Isotope Search List</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>
  <main>
    <div class="container py-5">
      <h1 class="mb-5 text-center">Isotope Search List</h1>

      <a href="#filters-search-list_0">First list</a> <a href="#filters-search-list_1">Second list</a>

      <div class="search-list">
        <div class="d-block text-center mb-4">
          <div class="filter-buttons btn-group" id="filters-search-list_1">
            <button data-filter="*" class="btn btn-outline-primary mb-1 active">All</button>
            <button class="btn btn-outline-primary mb-1" data-filter=".red">Red</button>
            <button class="btn btn-outline-primary mb-1" data-filter=".blue">Blue</button>
          </div>
        </div>

        <!-- Filter Searchform -->
        <div class="mb-4">
          <input type="text" class="quicksearch form-control" placeholder="Search" />
        </div>

        <div class="grid row g-4 mb-4">

          <div class="blue item col-12">
            <div class="card card-body">
              <h5>Blue 1</h5>
              <p class="card-text">A blue item</p>
              <p class="card-text">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>
            </div>
          </div>

          <div class="red item col-12">
            <div class="card card-body">
              <h5>Red 1</h5>
              <p class="card-text">A red item</p>
              <p class="card-text">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>
            </div>
          </div>

          <div class="blue item col-12">
            <div class="card card-body">
              <h5>Blue 2</h5>
              <p class="card-text">A blue item cat</p>
            </div>
          </div>

          <div class="red item col-12">
            <div class="card card-body">
              <h5>Red 2</h5>
              <p class="card-text">A red item dog</p>
              <p class="card-text">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>
            </div>
          </div>

          <div class="blue item col-12">
            <div class="card card-body">
              <h5>Blue 3</h5>
              <p class="card-text">A blue item cat dog horse</p>
            </div>
          </div>

          <div class="red item col-12">
            <div class="card card-body">
              <h5>Red 3</h5>
              <p class="card-text">A red item</p>
            </div>
          </div>

        </div>

      </div><!-- search-list -->





      <div class="search-list">
        <div class="d-block text-center mb-4">
          <div class="filter-buttons btn-group" id="filters-search-list_1">
            <button data-filter="*" class="btn btn-outline-primary mb-1 active">All</button>
            <button class="btn btn-outline-primary mb-1" data-filter=".red">Red</button>
            <button class="btn btn-outline-primary mb-1" data-filter=".blue">Blue</button>
          </div>
        </div>

        <!-- Filter Searchform -->
        <div class="mb-4">
          <input type="text" class="quicksearch form-control" placeholder="Search" />
        </div>

        <div class="grid row g-4 mb-4">

          <div class="blue item col-12">
            <div class="card card-body">
              <h5>Blue 1</h5>
              <p class="card-text">A blue item</p>
              <p class="card-text">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>
            </div>
          </div>

          <div class="red item col-12">
            <div class="card card-body">
              <h5>Red 1</h5>
              <p class="card-text">A red item</p>
              <p class="card-text">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>
            </div>
          </div>

          <div class="blue item col-12">
            <div class="card card-body">
              <h5>Blue 2</h5>
              <p class="card-text">A blue item cat</p>
            </div>
          </div>

          <div class="red item col-12">
            <div class="card card-body">
              <h5>Red 2</h5>
              <p class="card-text">A red item dog</p>
              <p class="card-text">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>
            </div>
          </div>

          <div class="blue item col-12">
            <div class="card card-body">
              <h5>Blue 3</h5>
              <p class="card-text">A blue item cat dog horse</p>
            </div>
          </div>

          <div class="red item col-12">
            <div class="card card-body">
              <h5>Red 3</h5>
              <p class="card-text">A red item</p>
            </div>
          </div>

        </div>

      </div><!-- search-list -->

      <h2>Just some text</h2>
      <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
        <p>Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.</p>
        <p>Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.</p>
        <p>Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer</p>
    
    </div><!-- container -->
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>

  <script>
    jQuery(function($) {

      // Create dynamic id's and initialize Isotope for each instance
      $('.search-list').each(function(i, e) {
        var $searchList = $(this);
        var $filterButtons = $('.filter-buttons', $searchList);
        var $grid = $('.grid', $searchList);
        var buttonFilters = {};
        var buttonFilter;
        var qsRegex;

        // Set dynamic IDs
        $filterButtons.attr("id", "filters-search-list_" + i);
        $grid.attr("id", "search-list_" + i);

        // init Isotope
        var $grid = $grid.isotope({
          itemSelector: '.item',
          layoutMode: 'masonry',
          filter: function() {
            var $this = $(this);
            var searchResult = qsRegex ? $this.text().match(qsRegex) : true;
            var buttonResult = buttonFilter ? $this.is(buttonFilter) : true;
            return searchResult && buttonResult;
          },
        });

        $filterButtons.on('click', 'button', function() {
          var $this = $(this);
          // get group key
          var $buttonGroup = $this.parents('.filter-buttons');
          var filterGroup = $buttonGroup.attr('data-filter-group');
          // set filter for group
          buttonFilters[filterGroup] = $this.attr('data-filter');
          // combine filters
          buttonFilter = concatValues(buttonFilters);
          // Isotope arrange
          $grid.isotope();
        });

        // use value of search field to filter
        var $quicksearch = $('.quicksearch', $searchList).keyup(debounce(function() {
          qsRegex = new RegExp($quicksearch.val(), 'gi');
          $grid.isotope();
        }));

        // change is-checked class on buttons
        $filterButtons.each(function(i, buttonGroup) {
          var $buttonGroup = $(buttonGroup);
          $buttonGroup.on('click', 'button', function() {
            $buttonGroup.find('.active').removeClass('active');
            $(this).addClass('active');
          });
        });

        // flatten object by concatting values
        function concatValues(obj) {
          var value = '';
          for (var prop in obj) {
            value += obj[prop];
          }
          return value;
        }

        // debounce so filtering doesn't happen every millisecond
        function debounce(fn, threshold) {
          var timeout;
          threshold = threshold || 100;
          return function debounced() {
            clearTimeout(timeout);
            var args = arguments;
            var _this = this;

            function delayed() {
              fn.apply(_this, args);
            }
            timeout = setTimeout(delayed, threshold);
          };
        }

      });

    }); // jQuery End

  </script>

</body>

</html>
